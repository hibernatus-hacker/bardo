<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.0">
    <meta name="project" content="Bardo v0.1.0">


    <title>Bardo.PopulationManager.GenomeMutator â€” Bardo v0.1.0</title>

    <link rel="stylesheet" href="dist/html-elixir-J3PIVQVA.css" />

    <script defer src="dist/sidebar_items-1E8677F2.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="https://github.com/hibernatus-hacker/bardo" class="sidebar-projectName" translate="no">
Bardo
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Bardo</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">Bardo.PopulationManager.GenomeMutator</span> 
      <small class="app-vsn" translate="no">(Bardo v0.1.0)</small>

    </h1>

      <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>The genome_mutator is responsible for mutating genotypes. It uses
various mutation operators to modify a genotype, and return a mutant
of the genotype. Specifically, the mutation operators
include both topological and parametric mutations. The topological
mutations mutate the structure of a genotype by adding, or
removing, neurons, connections, sensors, and actuators.
The parametric mutations mutate the parameters of the genotype, such as
the weights and the plasticity parameters. In a multi-objective
optimization, bias mutation is performed on the bias parameters of
the neural network, thus changing the biasing of the NN from one
objective to another, while preserving overall proficiency.</p><p>Technically, we do not need every one of these mutation operators; the
following list will be enough for a highly versatile complexifying
topology and weight evolving artificial neural network (TWEANN) system:
mutate_weights, add_bias, remove_bias, mutate_af, add_neuron, splice
(just one of them), add_inlink, add_outlink, add_sensorlink,
add_actuatorlink, add_sensor, and add_actuator. Note that this
combination of MOs can convert any NN topology A into a NN topology B,
given that A is contained (smaller, and simpler in a sense) within B.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#add_bias/1" data-no-tooltip="" translate="no">add_bias(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The add_bias function is called with the AgentId parameter. The
function first extracts the neuron_ids list from the cortex element
and chooses a random neuron from the id list. After the neuron is
read from the database, we check whether input_idps and
input_idps_modulation lists already have bias, and we randomly
generate a value 1 or 2. If the value 1 is generated and the
input_idps list does not have a bias, it is added. If the value 2 is
generated, and the input_idps_modulation does not have a bias, it is
added. Otherwise an error is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#link_from_element_to_element/3" data-no-tooltip="" translate="no">link_from_element_to_element(generation, from_element_id, to_element_id)</a>

      </div>

        <div class="summary-synopsis"><p>The link_from_element_to_element first calculates what type
of link is going to be established (neuron to neuron, sensor to neuron,
or neuron to actuator), and then calls the specific linking function
based on that.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#link_from_neuron_to_neuron/3" data-no-tooltip="" translate="no">link_from_neuron_to_neuron(generation, from_neuron_id, to_neuron_id)</a>

      </div>

        <div class="summary-synopsis"><p>The link_from_neuron_to_neuron establishes a link from neuron with
id FromNeuronId, to a neuron with id ToNeuronId. The function then
calls link_from_neuron, which establishes the link on the
FromNeuronId's side. The updated neuron associated with the
FromNeuronId is then written to database.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#link_from_sensor_to_neuron/3" data-no-tooltip="" translate="no">link_from_sensor_to_neuron(generation, from_sensor_id, to_neuron_id)</a>

      </div>

        <div class="summary-synopsis"><p>The function link_from_sensor_to_neuron establishes a connection from
the sensor with id FromSensorId, and the neuron with id ToNeuronId.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#mutate/1" data-no-tooltip="" translate="no">mutate(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The function mutate first updates the generation of the agent to be
mutated, then calculates the number of mutation operators to be
applied to it by executing the tot_topological_mutations:TTMName/2
function, and then finally runs the apply_mutators/2 function, which
mutates the agent. Once the agent is mutated, the function updates
its fingerprint by executing genotype:update_finrgerprint/1.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#mutate_af/1" data-no-tooltip="" translate="no">mutate_af(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The mutate_af function chooses a random neuron, and then changes its
currently used activation function into another one available from the
neural_afs list of the agent's constraint record.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#mutate_heredity_type/1" data-no-tooltip="" translate="no">mutate_heredity_type(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The mutate_heredity_type function checks if there are any other
heredity types in the agent's constraint record. If any other than
the one currently used by the agent are present, the agent exchanges
the heredity type it currently uses to a random one from the remaining
list. If no other heredity types are available, the mutation operator
exits with an error, and the neuroevolutionary system tries another
mutation operator.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#mutate_tot_topological_mutations/1" data-no-tooltip="" translate="no">mutate_tot_topological_mutations(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The mutate_tot_topological_mutations function checks if there are
any other than the currently used tuning tot topological mutation
functions available in the agent's constraint. If there is, then it
chooses a random one from this list, and sets the agent's
tot_topological_mutations_f to it. If there are no other functions
that can calculate tot topological mutations, then it exits with an
error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#mutate_tuning_annealing/1" data-no-tooltip="" translate="no">mutate_tuning_annealing(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The mutate_annealing_parameter function checks if there are any
other than the currently used tuning annealing parameters available
in the agent's constraint. If there is, then it chooses a random one
from this list, and sets the agent's annealing_parameter to it. If
there are no other tuning annealing parameters, then it exits with
an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#mutate_tuning_selection/1" data-no-tooltip="" translate="no">mutate_tuning_selection(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The mutate_tuning_selection function checks if there are any other
than the currently used tuning selection functions available in the
agent's constraint. If there is, then it chooses a random one from
this list, and sets the agent's tuning_selection_f to it. If there
are no other tuning selection functions, then it exits with an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#mutate_weights/1" data-no-tooltip="" translate="no">mutate_weights(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The mutate_weights function accepts the AgentId parameter, extracts
the NN's cortex, and then chooses a random neuron belonging to the NN
with a uniform distribution probability. Then the neuron's input_idps
list is extracted, and the function perturb_idps/1 is used to
perturb/mutate the weights. Once the InputIdPs have been perturbed,
the agent's evolutionary history, EvoHist is updated to include the
successfully applied mutate_weights mutation operator. Then the
updated Agent and the updated neuron are written to the database.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#remove_bias/1" data-no-tooltip="" translate="no">remove_bias(agent_id)</a>

      </div>

        <div class="summary-synopsis"><p>The remove_bias function is called with the AgentId parameter. The
function first extracts the neuron_ids list from the cortex element
and chooses a random neuron from the id list. After the neuron is
read from the database, we check whether input_idps and
input_idps_modulation lists already have bias, and we randomly
generate a value 1 or 2. If the value 1 is generated and the
input_idps list has a bias, it is removed. If the value 2 is
generated, and the input_idps_modulation has a bias, it is removed.
Otherwise an error is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#simple_mutate/2" data-no-tooltip="" translate="no">simple_mutate(genotype, opts \\ %{})</a>

      </div>

        <div class="summary-synopsis"><p>Applies mutation operators to a genotype based on probabilities.</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="add_bias/1">

  <div class="detail-header">
    <a href="#add_bias/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">add_bias(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L392" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> add_bias(Bardo.Models.agent_id()) :: :ok | false</pre>

      </div>

<p>The add_bias function is called with the AgentId parameter. The
function first extracts the neuron_ids list from the cortex element
and chooses a random neuron from the id list. After the neuron is
read from the database, we check whether input_idps and
input_idps_modulation lists already have bias, and we randomly
generate a value 1 or 2. If the value 1 is generated and the
input_idps list does not have a bias, it is added. If the value 2 is
generated, and the input_idps_modulation does not have a bias, it is
added. Otherwise an error is returned.</p>
  </section>
</section>
<section class="detail" id="link_from_element_to_element/3">

  <div class="detail-header">
    <a href="#link_from_element_to_element/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">link_from_element_to_element(generation, from_element_id, to_element_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L524" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> link_from_element_to_element(
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(),
  Bardo.Models.neuron_id() | Bardo.Models.sensor_id(),
  Bardo.Models.actuator_id() | Bardo.Models.neuron_id()
) :: :ok</pre>

      </div>

<p>The link_from_element_to_element first calculates what type
of link is going to be established (neuron to neuron, sensor to neuron,
or neuron to actuator), and then calls the specific linking function
based on that.</p>
  </section>
</section>
<section class="detail" id="link_from_neuron_to_neuron/3">

  <div class="detail-header">
    <a href="#link_from_neuron_to_neuron/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">link_from_neuron_to_neuron(generation, from_neuron_id, to_neuron_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L578" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> link_from_neuron_to_neuron(
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(),
  Bardo.Models.neuron_id(),
  Bardo.Models.actuator_id() | Bardo.Models.neuron_id()
) :: :ok</pre>

      </div>

<p>The link_from_neuron_to_neuron establishes a link from neuron with
id FromNeuronId, to a neuron with id ToNeuronId. The function then
calls link_from_neuron, which establishes the link on the
FromNeuronId's side. The updated neuron associated with the
FromNeuronId is then written to database.</p>
  </section>
</section>
<section class="detail" id="link_from_sensor_to_neuron/3">

  <div class="detail-header">
    <a href="#link_from_sensor_to_neuron/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">link_from_sensor_to_neuron(generation, from_sensor_id, to_neuron_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L597" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> link_from_sensor_to_neuron(
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(),
  Bardo.Models.sensor_id(),
  {:neuron, {<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">float</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">float</a>()}}
) :: :ok</pre>

      </div>

<p>The function link_from_sensor_to_neuron establishes a connection from
the sensor with id FromSensorId, and the neuron with id ToNeuronId.</p>
  </section>
</section>
<section class="detail" id="mutate/1">

  <div class="detail-header">
    <a href="#mutate/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">mutate(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L209" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> mutate(Bardo.Models.agent_id()) :: :ok</pre>

      </div>

<p>The function mutate first updates the generation of the agent to be
mutated, then calculates the number of mutation operators to be
applied to it by executing the tot_topological_mutations:TTMName/2
function, and then finally runs the apply_mutators/2 function, which
mutates the agent. Once the agent is mutated, the function updates
its fingerprint by executing genotype:update_finrgerprint/1.</p>
  </section>
</section>
<section class="detail" id="mutate_af/1">

  <div class="detail-header">
    <a href="#mutate_af/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">mutate_af(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L488" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> mutate_af(Bardo.Models.agent_id()) :: :ok | false</pre>

      </div>

<p>The mutate_af function chooses a random neuron, and then changes its
currently used activation function into another one available from the
neural_afs list of the agent's constraint record.</p>
  </section>
</section>
<section class="detail" id="mutate_heredity_type/1">

  <div class="detail-header">
    <a href="#mutate_heredity_type/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">mutate_heredity_type(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L312" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> mutate_heredity_type(Bardo.Models.agent_id()) :: :ok | false</pre>

      </div>

<p>The mutate_heredity_type function checks if there are any other
heredity types in the agent's constraint record. If any other than
the one currently used by the agent are present, the agent exchanges
the heredity type it currently uses to a random one from the remaining
list. If no other heredity types are available, the mutation operator
exits with an error, and the neuroevolutionary system tries another
mutation operator.</p>
  </section>
</section>
<section class="detail" id="mutate_tot_topological_mutations/1">

  <div class="detail-header">
    <a href="#mutate_tot_topological_mutations/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">mutate_tot_topological_mutations(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L285" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> mutate_tot_topological_mutations(Bardo.Models.agent_id()) :: :ok | false</pre>

      </div>

<p>The mutate_tot_topological_mutations function checks if there are
any other than the currently used tuning tot topological mutation
functions available in the agent's constraint. If there is, then it
chooses a random one from this list, and sets the agent's
tot_topological_mutations_f to it. If there are no other functions
that can calculate tot topological mutations, then it exits with an
error.</p>
  </section>
</section>
<section class="detail" id="mutate_tuning_annealing/1">

  <div class="detail-header">
    <a href="#mutate_tuning_annealing/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">mutate_tuning_annealing(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L258" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> mutate_tuning_annealing(Bardo.Models.agent_id()) :: :ok | false</pre>

      </div>

<p>The mutate_annealing_parameter function checks if there are any
other than the currently used tuning annealing parameters available
in the agent's constraint. If there is, then it chooses a random one
from this list, and sets the agent's annealing_parameter to it. If
there are no other tuning annealing parameters, then it exits with
an error.</p>
  </section>
</section>
<section class="detail" id="mutate_tuning_selection/1">

  <div class="detail-header">
    <a href="#mutate_tuning_selection/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">mutate_tuning_selection(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L233" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> mutate_tuning_selection(Bardo.Models.agent_id()) :: :ok | false</pre>

      </div>

<p>The mutate_tuning_selection function checks if there are any other
than the currently used tuning selection functions available in the
agent's constraint. If there is, then it chooses a random one from
this list, and sets the agent's tuning_selection_f to it. If there
are no other tuning selection functions, then it exits with an error.</p>
  </section>
</section>
<section class="detail" id="mutate_weights/1">

  <div class="detail-header">
    <a href="#mutate_weights/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">mutate_weights(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L340" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> mutate_weights(Bardo.Models.agent_id()) :: :ok</pre>

      </div>

<p>The mutate_weights function accepts the AgentId parameter, extracts
the NN's cortex, and then chooses a random neuron belonging to the NN
with a uniform distribution probability. Then the neuron's input_idps
list is extracted, and the function perturb_idps/1 is used to
perturb/mutate the weights. Once the InputIdPs have been perturbed,
the agent's evolutionary history, EvoHist is updated to include the
successfully applied mutate_weights mutation operator. Then the
updated Agent and the updated neuron are written to the database.</p>
  </section>
</section>
<section class="detail" id="remove_bias/1">

  <div class="detail-header">
    <a href="#remove_bias/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">remove_bias(agent_id)</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L443" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> remove_bias(Bardo.Models.agent_id()) :: :ok | false</pre>

      </div>

<p>The remove_bias function is called with the AgentId parameter. The
function first extracts the neuron_ids list from the cortex element
and chooses a random neuron from the id list. After the neuron is
read from the database, we check whether input_idps and
input_idps_modulation lists already have bias, and we randomly
generate a value 1 or 2. If the value 1 is generated and the
input_idps list has a bias, it is removed. If the value 2 is
generated, and the input_idps_modulation has a bias, it is removed.
Otherwise an error is returned.</p>
  </section>
</section>
<section class="detail" id="simple_mutate/2">

    <span id="simple_mutate/1"></span>

  <div class="detail-header">
    <a href="#simple_mutate/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">simple_mutate(genotype, opts \\ %{})</h1>


        <a href="https://github.com/hibernatus-hacker/bardo/blob/main/lib/bardo/population_manager/genome_mutator.ex#L46" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Applies mutation operators to a genotype based on probabilities.</p><h2 id="simple_mutate/2-parameters" class="section-heading"><a href="#simple_mutate/2-parameters" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Parameters</span></h2><ul><li><code class="inline">genotype</code> - The genotype to mutate</li><li><code class="inline">opts</code> - Options controlling mutation probabilities</li></ul><h2 id="simple_mutate/2-options" class="section-heading"><a href="#simple_mutate/2-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:add_neuron_probability</code> - Probability of adding a neuron (default: 0.1)</li><li><code class="inline">:add_link_probability</code> - Probability of adding a connection (default: 0.2)</li><li><code class="inline">:mutate_weights_probability</code> - Probability of mutating weights (default: 0.8)</li></ul><h2 id="simple_mutate/2-examples" class="section-heading"><a href="#simple_mutate/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">genotype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Bardo.PopulationManager.Genotype</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="8437919225-1">(</span><span class="p" data-group-id="8437919225-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">mutated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Bardo.PopulationManager.GenomeMutator</span><span class="o">.</span><span class="n">simple_mutate</span><span class="p" data-group-id="8437919225-2">(</span><span class="n">genotype</span><span class="p" data-group-id="8437919225-2">)</span></code></pre>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/bardo/0.1.0" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/bardo/0.1.0">Hex Preview</a>

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Bardo.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.0) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
