%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Copyright (C) 2018 ApproximateReality
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%----------------------------------------------------------------------------
%%% @doc AgentMgrClient
%%% @end
%%%----------------------------------------------------------------------------
-module(agent_mgr_client).

%% API
-export([
  start_agent/2,
  stop_agent/1,
  percept/2,
  fitness/3
]).

%% Xref
-ignore_xref([
  start_agent/2,
  stop_agent/1,
  percept/2,
  fitness/3
]).

%%%============================================================================
%%% API
%%%============================================================================

%%-----------------------------------------------------------------------------
%% @doc start_agent message.
%% @end
%%-----------------------------------------------------------------------------
-spec start_agent(models:agent_id(), models:op_mode()) -> ok.
start_agent(AgentId, OpMode) ->
  agent_mgr:start_agent(AgentId, OpMode),
  ok.

%%-----------------------------------------------------------------------------
%% @doc stop_agent message.
%% @end
%%-----------------------------------------------------------------------------
-spec stop_agent(models:agent_id()) -> ok.
stop_agent(AgentId) ->
  agent_mgr:stop_agent(AgentId),
  ok.

%%-----------------------------------------------------------------------------
%% @doc percept message.
%% @end
%%-----------------------------------------------------------------------------
-spec percept(pid(), [float()]) -> ok.
percept(SensorPid, Percept) ->
  sensor:percept(SensorPid, Percept),
  ok.

%%-----------------------------------------------------------------------------
%% @doc fitness message.
%% @end
%%-----------------------------------------------------------------------------
-spec fitness(pid(), [float()], atom() | integer()) -> ok.
fitness(ActuatorPid, Fitness, HaltFlag) ->
  actuator:fitness(ActuatorPid, {Fitness, HaltFlag}),
  ok.

%%=============================================================================
%% Internal functions
%%=============================================================================